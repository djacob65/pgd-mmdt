<!-- For basic syntax :  see https://www.markdownguide.org/basic-syntax/
     For extra syntax : see https://michelf.ca/projects/php-markdown/extra/
-->
# Metadata management for data storage spaces
----

.

## Presentation

* The **Maggot** tool allows you the description of the **metadata** of all the datasets produced by a collective (research unit, platform, multi-partner project, etc.).
* This tool aims to answer the questions of the **Data Management Plan** (DMP) concerning the **organization, documentation, storage and sharing of data** in the data space.


#### The web interface allows you to :

  * **Describe** a dataset using metadata of different types by facilitating their entry and avoiding their re-entry thanks to personalized dictionaries (Description)
  * **Search** datasets by their metadata (Accessibility)
  * **Publish** the metadata of datasets along with their data files into the [Recherche Data Gouv][8] repository (Publication)

.

<p align="center">
  <img src="../docs/overview.png?raw=true" alt="Overview"/>
</p>

.

#### Synoptic of the approach to metadata management on the storage space

   1. First, you enter the metadata about the dataset using the web interface. For selection purposes, a set of terms can be predefined, or terms can be added to the list and stored for future use. 
   2. As output, you retrieve the generated JSON file and drop it into the corresponding data directory.
   3. In order for this metadata file to be taken into account, you can either manually launch the search script (scan) or wait for the next automatic search to be triggered (via cron).
   4. Finally, you can search your datasets using a dedicated web interface to find them by specifying one or more criteria.

.

## Metadata entry interface

* The metadata entry interface consists of two main sections, the first for loading an existing file and the second for entering metadata for a new dataset. The second section contains different categories of metadata (e.g. STATUS, MANAGEMENT, LOCATION and DESCRIPTORS).

.

#### 1/ Upload a JSON (Optionnal)

* Section for loading a metadata file and making changes to it. Select a file in json format (which must be generated by this form) and click on the "Load content" button. When loading, the format and structure will be checked to ensure that it conforms to the corresponding JSON schema. 

.

#### 2/ Enter/Modify the Metadata for the Dataset

* Section for entering metadata for a new dataset.

.

## Exporting the metadata file

* When all the metadata has been entered, simply validate the form by clicking on the "Download as a JSON file" button at the bottom of the page. The browser will then offer to download your metadata file.
* The file, in JSON format, has by default a name like META\_145985.json. It is possible to rename this file with a more explicit name for your dataset, but keeping the prefix META_ and taking care to keep the json extension for your new file; for example META\_frim1.json.

.

## Adding the JSON file to the storage space

* Put your JSON metadata file in to the corresponding data subdirectory
* You can create as many subdirectories as you like, and each of these can contain several datasets. The essential element is the presence in each of these sub-directories of a metadata file to characterise their content in terms of datasets.

.

## Dataset search interface

* The data search interface corresponds in almost every respect to the metadata entry interface. It is possible to search for a dataset using all the fields present in the different sections.
* Once you have entered the values, go to the bottom of the page, define whether you want all your search fields to be respected when searching, or whether you want the search to return all datasets for at least one of the search fields entered.

.

## Links

* **Source code on Github** : <https://github.com/inrae/pgd-mmdt>

.

## Slideshows

* [**Presentations**][9] of the tool and its approach (Oct. 2022)

.

## Developers

* Daniel Jacob ([@UMR BFP][2]) | CATI [@PROSODIe][4]

* Fran√ßois Ehrenmann ([@UMR BioGECO][1]) | CATI [@GEDEOP][5]

* Philippe Chaumeil ([@UMR BioGECO][1])

.

## Contributors

* Edouard Guitton ([@INRAE Dept. SA][6], [@Emerg'IN][3])


[1]: https://www6.bordeaux-aquitaine.inrae.fr/biogeco_eng/
[2]: https://www6.bordeaux-aquitaine.inrae.fr/bfp_eng/
[3]: https://www.emergin.fr/emergin_eng/
[4]: https://prosodie.cati.inrae.fr/
[5]: https://gedeop.cati.inrae.fr/
[6]: https://www.inrae.fr/departements/sa
[7]: https://nextcloud.inrae.fr/s/HxEWSybeBW8rzke
[8]: https://recherche.data.gouv.fr/en
[9]: https://nextcloud.inrae.fr/s/iLHQYoAZp2i6ij7

*[DMP]: a formal document that outlines how data are to be handled both during a research project, and after the project is completed. The goal of a DMP is to consider the many aspects of data management, metadata generation, data preservation, and analysis before the project begins; this may lead to data being well-managed in the present,[citation needed] and prepared for preservation in the future.
*[JSON]: JavaScript Object Notation : format used to represent structured information
*[cron]: A program that allows users to automatically execute scripts or commands at a pre-specified date and time, or on a pre-specified cycle.
*[scan]: A search operation for metadata files in the storage space in order to index the metadata in a dedicated database.

